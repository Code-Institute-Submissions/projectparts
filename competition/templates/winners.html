{% extends 'base.html' %}

{% load static %}
{% load bootstrap_tags %}

{% block css %}<link rel="stylesheet" href="{% static 'css/winners.css' %}">{% endblock css %}

{% block title%}Previous Winners{% endblock title %}

{% block content %}
<div class="page-header">
    <h1 class="text-center">Previous Winner</h1>
    <p class="text-muted text-center">View all previous competition winners, <br>
    want to be here? Choose some <a href="{% url 'products' %}">tickets!</a></p>
</div>

<div class="winners">
    {% for c in prev_comp %}
    <div class="card flex-row flex-wrap">
        <div class="card-header">
            <a href="{% url 'product_detail' c.winner.order.product.id %}">
                <img src="{{ c.winner.order.product.img.url }}" class="card-img" alt="{{ c.winner.order.product.name }}">
            </a>
        </div>
        <div class="card-block px-2">
            <h2 class="card-title">Competition: {{ c.id }}</h2>
            <p class="card-text">{{ c.winner.user.first_name }} has won a {{ c.winner.order.product }} for there {{ c.winner.order.product.fits }} with number {{ c.winner.ticket_number }}</p>
            <p class="card-text">This ticket only cost Â£{{ c.winner.order.product.ticket_price }}.</p>
            <p class="card-text">Question: {{ c.question}}<br> Answer: {{ c.correct_answer }}</p>
        </div>
    </div>
    {% endfor %}
</div>

<div class="text-center">
    <span class="step-links">
        {% if prev_comp.has_previous %}
        <a href="?page=1"><i class="fas fa-angle-double-left"></i></a>
        <a href="?page={{ prev_comp.previous_page_number }}"><i class="fas fa-angle-left"></i></a>
        {% endif %}

        <span class="current">
            {{ prev_comp.number }} of {{ prev_comp.paginator.num_pages }}
        </span>

        {% if prev_comp.has_next %}
        <a href="?page={{ prev_comp.next_page_number }}"><i class="fas fa-angle-right"></i></a>
        <a href="?page={{ prev_comp.paginator.num_pages }}"><i class="fas fa-angle-double-right"></i></a>
        {% endif %}
    </span>
</div>

{% endblock content %}

{% block js %}
{% endblock js %}